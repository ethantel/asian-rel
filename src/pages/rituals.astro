---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import SectionHeading from "../components/SectionHeading.astro";
import FeatureCard from "../components/FeatureCard.astro";
import ContentGrid from "../components/ContentGrid.astro";

// Feature cards data
const features = [
  {
    title: "Four Noble Truths",
    description:
      "Understand the core principles that reveal the nature of suffering and the path to its cessation.",
    icon: "four-truths",
    link: "/asian-rel/eightfold-path#truths",
    iconClass: "w-60 h-12", // Add custom size class
  },
  {
    title: "Eightfold Path",
    description:
      "Explore the eight practices that lead to the end of suffering and spiritual enlightenment.",
    icon: "eightfold-path",
    link: "/asian-rel/eightfold-path#path",
  },
  {
    title: "Daily Rituals",
    description:
      "Discover the meaningful practices and ceremonies that connect practitioners to Buddhist teachings.",
    icon: "rituals",
    link: "/asian-rel/rituals",
  },
];

// Journey sections data
const journeySections = [
  {
    title: "History & Origins",
    description:
      "The life of Siddhartha Gautama and the beginnings of Buddhist thought and practice.",
    image: "/asian-rel/images/history.jpg",
    link: "/asian-rel/history",
  },
  {
    title: "Rituals & Devotion",
    description:
      "Explore the symbolic practices, meditation techniques, and devotional ceremonies.",
    image: "/asian-rel/images/rituals.jpg",
    link: "/asian-rel/rituals",
  },
  {
    title: "Noble Truths & Path",
    description:
      "Understanding suffering and the structured path toward liberation and enlightenment.",
    image: "/asian-rel/images/truths.jpg",
    link: "/asian-rel/eightfold-path",
  },
  {
    title: "Pathways to Liberation",
    description:
      "The Five Khandas and philosophical concepts of non-self and impermanence.",
    image: "/asian-rel/images/liberation.jpg",
    link: "/asian-rel/liberation",
  },
  {
    title: "Non-Harm & Ethics",
    description:
      "Explore Ahimsa and ethical principles that guide conduct toward all living beings.",
    image: "/asian-rel/images/ethics.jpg",
    link: "/asian-rel/non-harm",
  },
  {
    title: "Reflect & Apply",
    description:
      "Practical applications of Buddhist teachings for modern daily life and challenges.",
    image: "/asian-rel/images/reflect.jpg",
    link: "/asian-rel/reflect",
  },
];

// Gallery images
const architectureImages = [
  {
    title: "Stupa",
    description:
      "A stupa is a dome-shaped structure that serves as a monument housing relics of the Buddha or other revered figures. It symbolizes the Buddha's enlightenment and acts as a focal point for meditation and pilgrimage. The design of a stupa often reflects the cosmic structure, representing the path to enlightenment.",
    image: "/asian-rel/images/gallery/stupa.jpg",
  },
  {
    title: "Vihara",
    description:
      "A vihara is a Buddhist monastery that provides living quarters for monks. These structures typically consist of a central hall surrounded by small cells for individual monks. Viharas serve as centers for spiritual learning, meditation, and communal living.",
    image: "/asian-rel/images/gallery/vihara.jpg",
  },
  {
    title: "Chaitya",
    description:
      "A chaitya, or chaitya griha, is a prayer hall that houses a stupa at one end. Designed for congregational worship, these halls feature high ceilings and a central nave, allowing devotees to circumambulate the stupa as part of their ritual practice.",
    image: "/asian-rel/images/gallery/chaitya.jpg",
  },
  {
    title: "Lotus Flower",
    description:
      "The lotus flower is a powerful symbol of purity, spiritual awakening, and the true nature of beings. Emerging unsullied from muddy waters, the lotus signifies the potential to rise above suffering and attain enlightenment. It is often associated with the Buddha and is prevalent in Buddhist art and literature.",
    image: "/asian-rel/images/gallery/lotus.jpg",
  },
  {
    title: "Candelesticks & Incense",
    description:
      "Candlesticks and incense are integral to Buddhist rituals, symbolizing the light of wisdom dispelling ignorance. Lighting candles and burning incense during ceremonies represents the offering of one's intentions and prayers, creating a sacred atmosphere conducive to meditation and reflection.",
    image: "/asian-rel/images/gallery/incense.jpg",
  },
  {
    title: "Triratna",
    description:
      "The Triratna, or Three Jewels, represents the core of Buddhist belief: the Buddha (the enlightened one), the Dharma (the teachings), and the Sangha (the community of practitioners). These symbols are often depicted in art and architecture, serving as reminders of the foundational aspects of Buddhism.",
    image: "/asian-rel/images/gallery/triratna.jpg",
  },
];
---

<Layout>
  <Hero
    title="Rituals & Symbols"
    subtitle="Explore the devotional practices, rituals, and symbols that connect practitioners to the teachings of Buddhism."
    bgImage="/asian-rel/images/rituals-hero.jpg"
  />

  <!-- Gallery Section -->
  <section id="sites" class="section-padding bg-neutral-100">
    <div class="container mx-auto px-4">
      <SectionHeading
        title="Sacred Sites & Symbols"
        subtitle="Visual journey through beautiful Buddhist temples, symbols, and sacred spaces"
      />

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          architectureImages.map((item, index) => (
            <div
              class="group relative overflow-hidden rounded-lg aspect-[4/3] bg-neutral-800 cursor-pointer gallery-item"
              data-aos="fade-up"
              data-aos-delay={index * 100}
              data-item={index}
              data-gallery-item
            >
              <img
                src={item.image}
                alt={item.title}
                class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6">
                <h3 class="text-white text-xl font-serif mb-2">{item.title}</h3>
                <p class="text-neutral-200 text-sm line-clamp-2">
                  Click to learn more
                </p>
              </div>
            </div>
          ))
        }
      </div>

      <!-- Gallery Modal -->
      <div
        id="gallery-modal"
        class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"
      >
        <div class="bg-white rounded-lg w-full max-w-5xl overflow-hidden">
          <div class="flex justify-between items-start p-6 pb-2">
            <h3 id="modal-title" class="text-3xl font-serif text-primary-700">
              Element
            </h3>
            <button
              id="close-modal"
              class="text-neutral-500 hover:text-neutral-800"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 p-6 pt-2">
            <div
              class="flex items-center justify-center bg-neutral-100 rounded-lg p-2"
            >
              <img
                id="modal-image"
                src=""
                alt=""
                class="max-w-full max-h-[400px] w-auto h-auto object-contain rounded"
              />
            </div>
            <div class="flex flex-col justify-center">
              <div class="space-y-4">
                <div class="w-16 h-1 bg-primary-600"></div>
                <p
                  id="modal-description"
                  class="text-neutral-700 leading-relaxed text-lg"
                >
                </p>
                <div class="pt-4">
                  <span
                    class="inline-block bg-primary-100 text-primary-800 text-sm px-3 py-1 rounded-full"
                  >
                    Buddhist Architecture & Symbols
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="bg-neutral-100 px-6 py-4 flex justify-end">
            <button
              id="modal-close-btn"
              class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-md transition-colors text-sm"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Four Categories Section -->
  <section class="section-padding">
    <div class="container mx-auto px-4">
      <SectionHeading
        title="Key Ideas of Buddhist Devotion"
        subtitle="Understanding the four fundamental concepts that shape Buddhist devotional practices"
      />

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div
          class="bg-white p-6 rounded-lg shadow-md border-t-4 border-primary-600"
          data-aos="fade-up"
        >
          <h3 class="text-xl font-serif mb-4 text-primary">
            Adhiṣṭhāna (Spiritual Blessing or Power)
          </h3>
          <ul class="space-y-3 mb-4 text-neutral-700">
            <li class="flex items-start gap-2">
              <span class="text-primary-600">•</span>
              <span>A transmittable power, similar to a contagious energy</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary-600">•</span>
              <span>Chants, laying of hands, passing on blessed objects</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary-600">•</span>
              <span>Movement of spiritual energy that one possesses</span>
            </li>
          </ul>
        </div>

        <div
          class="bg-white p-6 rounded-lg shadow-md border-t-4 border-gold-600"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          <h3 class="text-xl font-serif mb-4 text-gold-600">
            Nidāna (Connection to Sacred Beings and Objects)
          </h3>
          <ul class="space-y-3 mb-4 text-neutral-700">
            <li class="flex items-start gap-2">
              <span class="text-gold-600">•</span>
              <span
                >Offerings, showing respect to relics, or visiting sacred sites</span
              >
            </li>
            <li class="flex items-start gap-2">
              <span class="text-gold-600">•</span>
              <span
                >Allows devotees to build a spiritual connection to the Buddha's
                power</span
              >
            </li>
            <li class="flex items-start gap-2">
              <span class="text-gold-600">•</span>
              <span
                >Examples include placing flower garlands on Buddha statues and
                circumambulating stupas to receive blessings</span
              >
            </li>
          </ul>
        </div>

        <div
          class="bg-white p-6 rounded-lg shadow-md border-t-4 border-jade-600"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <h3 class="text-xl font-serif mb-4 text-jade-600">
            Puñña (Merit or Karmic Fruitfulness)
          </h3>
          <ul class="space-y-3 mb-4 text-neutral-700">
            <li class="flex items-start gap-2">
              <span class="text-jade-600">•</span>
              <span
                >Good deeds generate spiritual merit, which can be transferred
                to help others</span
              >
            </li>
            <li class="flex items-start gap-2">
              <span class="text-jade-600">•</span>
              <div>
                <p class="mb-2">Merit is accumulated in three ways:</p>
                <ul class="list-disc ml-6 space-y-1">
                  <li>Dāna (generosity)</li>
                  <li>Sīla (moral conduct)</li>
                  <li>Bhāvanā (meditation and mental development)</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>

        <div
          class="bg-white p-6 rounded-lg shadow-md border-t-4 border-neutral-600"
          data-aos="fade-up"
          data-aos-delay="300"
        >
          <h3 class="text-xl font-serif mb-4 text-neutral-600">
            Praṇidhāna (Earnest Vows or Aspirations)
          </h3>
          <ul class="space-y-3 mb-4 text-neutral-700">
            <li class="flex items-start gap-2">
              <span class="text-neutral-600">•</span>
              <span
                >Strong spiritual vows believed to manifest real outcomes</span
              >
            </li>
            <li class="flex items-start gap-2">
              <span class="text-neutral-600">•</span>
              <span
                >In Mahāyāna Buddhism, devotees take vows such as "May I be
                reborn in the Buddha's Pure Land," with hope that such
                aspirations will help lead to enlightenment</span
              >
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Related Sections Navigation -->
  <section class="py-12 bg-primary-50">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-serif text-center mb-8">
        Continue Your Exploration
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <a
          href="/asian-rel/eightfold-path"
          class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow flex items-center"
        >
          <div class="mr-4 text-primary-600">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"></path>
            </svg>
          </div>
          <div>
            <h3 class="text-lg font-serif">
              The Four Noble Truths & Eightfold Path
            </h3>
            <p class="text-neutral-700 text-sm">
              The core teachings that followed Buddha's enlightenment
            </p>
          </div>
        </a>
        <a
          href="/asian-rel/liberation"
          class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow flex items-center"
        >
          <div class="mr-4 text-primary-600">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"></path>
            </svg>
          </div>
          <div>
            <h3 class="text-lg font-serif">Pathways to Liberation</h3>
            <p class="text-neutral-700 text-sm">
              Exploring the Five Khandas and concepts of non-self
            </p>
          </div>
        </a>
      </div>
    </div>
  </section>
</Layout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const galleryItems =
      document.querySelectorAll<HTMLElement>(".gallery-item");
    const modal = document.getElementById("gallery-modal") as HTMLElement;
    const modalTitle = document.getElementById("modal-title") as HTMLElement;
    const modalDescription = document.getElementById(
      "modal-description"
    ) as HTMLElement;
    const modalImage = document.getElementById(
      "modal-image"
    ) as HTMLImageElement;
    const closeModalBtn = document.getElementById(
      "close-modal"
    ) as HTMLButtonElement;
    const modalCloseBtn = document.getElementById(
      "modal-close-btn"
    ) as HTMLButtonElement;

    const architectureImages = [
      {
        title: "Stupa",
        description:
          "A stupa is a dome-shaped structure that serves as a monument housing relics of the Buddha or other revered figures. It symbolizes the Buddha's enlightenment and acts as a focal point for meditation and pilgrimage. The design of a stupa often reflects the cosmic structure, representing the path to enlightenment.",
        image: "/asian-rel/images/gallery/stupa.jpg",
      },
      {
        title: "Vihara",
        description:
          "A vihara is a Buddhist monastery that provides living quarters for monks. These structures typically consist of a central hall surrounded by small cells for individual monks. Viharas serve as centers for spiritual learning, meditation, and communal living.",
        image: "/asian-rel/images/gallery/vihara.jpg",
      },
      {
        title: "Chaitya",
        description:
          "A chaitya, or chaitya griha, is a prayer hall that houses a stupa at one end. Designed for congregational worship, these halls feature high ceilings and a central nave, allowing devotees to circumambulate the stupa as part of their ritual practice.",
        image: "/asian-rel/images/gallery/chaitya.jpg",
      },
      {
        title: "Lotus Flower",
        description:
          "The lotus flower is a powerful symbol of purity, spiritual awakening, and the true nature of beings. Emerging unsullied from muddy waters, the lotus signifies the potential to rise above suffering and attain enlightenment. It is often associated with the Buddha and is prevalent in Buddhist art and literature.",
        image: "/asian-rel/images/gallery/lotus.jpg",
      },
      {
        title: "Candelesticks & Incense",
        description:
          "Candlesticks and incense are integral to Buddhist rituals, symbolizing the light of wisdom dispelling ignorance. Lighting candles and burning incense during ceremonies represents the offering of one's intentions and prayers, creating a sacred atmosphere conducive to meditation and reflection.",
        image: "/asian-rel/images/gallery/incense.jpg",
      },
      {
        title: "Triratna",
        description:
          "The Triratna, or Three Jewels, represents the core of Buddhist belief: the Buddha (the enlightened one), the Dharma (the teachings), and the Sangha (the community of practitioners). These symbols are often depicted in art and architecture, serving as reminders of the foundational aspects of Buddhism.",
        image: "/asian-rel/images/gallery/triratna.jpg",
      },
    ];

    function openModal(index) {
      const item = architectureImages[index];

      if (item) {
        modalTitle.textContent = item.title;
        modalDescription.textContent = item.description;
        modalImage.src = item.image;
        modalImage.alt = item.title;
        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }
    }

    function closeModal() {
      modal.classList.add("hidden");
      document.body.style.overflow = "";
    }

    galleryItems.forEach((item) => {
      item.addEventListener("click", () => {
        const index = parseInt(item.getAttribute("data-item") || "0");
        openModal(index);
      });
    });

    closeModalBtn.addEventListener("click", closeModal);
    modalCloseBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !modal.classList.contains("hidden")) {
        closeModal();
      }
    });
  });
</script>
