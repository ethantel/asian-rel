---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import SectionHeading from "../components/SectionHeading.astro";

// Four Noble Truths
const nobleTruths = [
  {
    id: "truth1",
    ethnic: "Dukkha",
    title: "(The Truth of Suffering)",
    description:
      "Suffering is an inescapable characteristic of every being’s existence, realizing the truth in this is where most spiritual journeys begin.",
    application:
      "Understanding that suffering is a universal experience creates space for genuine healing and liberation.",
  },
  {
    id: "truth2",
    ethnic: "Samudāya ",
    title: "(The Truth of the Origin of Suffering)",
    description:
      "Inevitably selfish desires cause physical and emotional attachments which always lead to dissatisfaction and suffering.",
    application:
      "By identifying the habits, attachments, and thoughts that generate suffering in your life, one can recognize and address the causes of suffering.",
  },
  {
    id: "truth3",
    ethnic: "Nirodha",
    title: " (The Truth of the Cessation of Suffering)",
    description:
      "Attachments to our world and the pain that it offers can be severed by confining the craving and reaching nirvana.",
    application:
      "Realizing that suffering can end and that peace is possible provides hope and motivation that fuel one’s spiritual practice, leading to liberation.",
  },
  {
    id: "truth4",
    ethnic: "",
    title: "The Eightfold Path",
    description:
      "The path one must take in order to confine their desires and attachments to ultimately release themselves from <i>dukkha</i>.",
    application:
      "Following the path provides guidance for all day-to-day decisions one must make in their life.",
  },
];

// Eightfold Path
const eightfoldPath = [
  {
    id: "right-understanding",
    title: "1. Right Understanding",
    ethnic: "Samma Ditthi",
  },
  {
    id: "right-intention",
    title: "2. Right Intention",
    ethnic: "Samma Sankappa",
  },
  {
    id: "right-speech",
    title: "3. Right Speech",
    ethnic: "Samma Vaca",
  },
  {
    id: "right-action",
    title: "4. Right Action",
    ethnic: "Samma Kammanto",
  },
  {
    id: "right-livelihood",
    title: "5. Right Livelihood",
    ethnic: "Samma Ajiva",
  },
  {
    id: "right-effort",
    title: "6. Right Effort",
    ethnic: "Samma Vayama",
  },
  {
    id: "right-mindfulness",
    title: "7. Right Mindfulness",
    ethnic: "Samma Sati",
  },
  {
    id: "right-concentration",
    title: "8. Right Concentration",
    ethnic: "Samma Samadhi",
  },
];
---

<Layout title="Eightfold Path & Four Noble Truths | The Pathway to Buddhism">
  <Hero
    title="The Eightfold Path"
    subtitle="Explore Buddha’s guidance for ending suffering and attaining liberation"
    bgImage="/asian-rel/images/eightfold-path-hero.jpg"
    overlayOpacity="opacity-60"
  />

  <!-- Four Noble Truths Section -->
  <section id="truths" class="section-padding">
    <div class="container mx-auto px-4">
      <SectionHeading
        title="The Four Noble Truths"
        subtitle="The foundational steps in understanding the teachings of Buddha"
      />

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {
          nobleTruths.map((truth, index) => (
            <div
              class="bg-white p-6 md:p-8 rounded-lg shadow-md border-t-4 border-primary-500"
              data-aos="fade-up"
              data-aos-delay={index * 100}
            >
              <h3 class="text-xl font-serif mb-4">
                <i>{truth.ethnic}</i> {truth.title}
              </h3>
              <p class="text-neutral-700 mb-4" set:html={truth.description} />

              <div class="bg-primary-50 p-4 rounded-md">
                <h4 class="font-medium mb-2">Practical Application:</h4>
                <p class="text-neutral-700 text-sm">{truth.application}</p>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Eightfold Path Interactive Map -->
  <section id="path" class="section-padding bg-neutral-100">
    <div class="container mx-auto px-4">
      <SectionHeading
        title="The Noble Eightfold Path"
        subtitle="Eight interconnected practices that lead to the cessation of suffering"
      />

      <div class="relative mb-12 flex justify-center" data-aos="zoom-in">
        <img
          src="/asian-rel/images/eightfold-path-wheel.svg"
          alt="Eightfold Path Wheel"
          class="w-full max-w-4xl"
          id="path-wheel"
        />
      </div>

      <!-- prompt message -->
      <p
        class="text-center text-neutral-600 italic mb-8 hover:text-primary-600 transition-colors"
      >
        Click on any path elements below to learn more about its meaning and
        application!
      </p>

      <!-- Path Elements Cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {
          eightfoldPath.map((path, index) => (
            <div
              class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer path-card hover:brightness-105 hover:border-l-4 hover:border-primary-500"
              data-path={path.id}
              data-aos="fade-up"
              data-aos-delay={index * 50}
            >
              <h3 class="text-xl font-serif mb-3">{path.title}</h3>
              <p class="text-neutral-700 text-sm italic">{path.ethnic}</p>
            </div>
          ))
        }
      </div>

      <!-- Modal for detailed path info -->
      <div
        id="path-modal"
        class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
      >
        <div class="bg-white rounded-lg max-w-2xl w-full mx-4 overflow-hidden">
          <div class="p-6">
            <div class="flex justify-between items-start mb-4">
              <div>
                <h3 id="modal-ethnic" class="text-2xl font-serif">
                  Path Element
                </h3>
                <p
                  id="modal-title"
                  class="text-sm text-neutral-600 italic mt-1"
                >
                </p>
              </div>
              <button
                id="close-modal"
                class="text-neutral-500 hover:text-neutral-800"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
            </div>
            <p id="modal-description" class="text-neutral-700 mb-4"></p>

            <div class="bg-primary-50 p-4 rounded-md">
              <h4 class="font-medium mb-2">Practical Application:</h4>
              <p id="modal-application" class="text-neutral-700 text-sm"></p>
            </div>
          </div>
          <div class="bg-neutral-100 px-6 py-4 flex justify-end">
            <button
              id="modal-close-btn"
              class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md transition-colors text-sm"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Related Sections Navigation -->
  <section class="py-12 bg-neutral-100">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-serif text-center mb-8">
        Continue Your Exploration
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <a
          href="/asian-rel/liberation"
          class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow flex items-center"
        >
          <div class="mr-4 text-primary-600">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"></path>
            </svg>
          </div>
          <div>
            <h3 class="text-lg font-serif">Pathways to Liberation</h3>
            <p class="text-neutral-700 text-sm">
              Exploring the Five Khandas and concepts of non-self
            </p>
          </div>
        </a>

        <a
          href="/asian-rel/non-harm"
          class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow flex items-center"
        >
          <div class="mr-4 text-primary-600">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"></path>
            </svg>
          </div>
          <div>
            <h3 class="text-lg font-serif">Non-Harm & Ethics</h3>
            <p class="text-neutral-700 text-sm">
              Understanding Ahimsa and Buddhist ethical principles
            </p>
          </div>
        </a>
      </div>
    </div>
  </section>
</Layout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Path wheel interaction
    const pathWheel = document.getElementById("path-wheel");
    const pathCards = document.querySelectorAll(".path-card");
    const modal = document.getElementById("path-modal");
    const modalTitle = document.getElementById("modal-title");
    const modalDescription = document.getElementById("modal-description");
    const modalApplication = document.getElementById("modal-application");
    const modalEthnic = document.getElementById("modal-ethnic");
    const closeModalBtn = document.getElementById("close-modal");
    const modalCloseBtn = document.getElementById("modal-close-btn");

    // Path data for modal
    const pathData = {
      "right-understanding": {
        title: "Right Understanding",
        ethnic: "Samma Ditthi",
        description: `There is a particular perspective on life taught by Buddhism that can lead to the end of suffering. Outside perspectives keep us in the cycle of suffering by preventing us from seeing things as they truly are. One must monitor their actions, speech, and intentions to establish Right Understanding.`,
        application:
          "<i>Puja</i> (offering ceremonies) - a devotional practice aimed at expressing respect, gratitude, and devotion, focusing on the qualities of the Buddha in order for one to cultivate the qualities within themselves to establish Right Understanding.",
      },
      "right-intention": {
        title: "Right Intention",
        ethnic: "Samma Sankappa",
        description: `Maintaining a commitment to ethical conduct and cultivating wholesome thoughts can lead to both compassionate and wise actions. There are three categories:\n\n    - Intent of Renunciation\n\n    - Intent of Goodwill\n\n    - Intent of Harmlessness`,
        application:
          "<i>Pranidhāna</i> - an intention that one sets for a positive purpose, dedicating the merit of their actions for the benefit of others.",
      },
      "right-speech": {
        title: "Right Speech",
        ethnic: "Samma Vaca",
        description:
          "To reflect the broader Buddhist commitment to non-harm and mindfulness, engaging in Right Speech involves promoting harmony, truth, and kindness by being mindful of the impact of one’s words. One must abstain from lying, divisive speech, harsh speech, and frivolous speech.",
        application:
          "<i>Satya-vākya</i> (truthful utterance) - a type of confession that reveals honesty during rituals or significant moments. In uttering it, one carries a power for good, setting the tone for engaging in Right Speech.",
      },
      "right-action": {
        title: "Right Action",
        ethnic: "Samma Kammanto",
        description:
          "Engaging in deeds that are ethical, beneficial, and promote harmony, ultimately avoiding harm to oneself and others. One must abstain from taking life, stealing, and sexual misconduct, etc. In holding these principles, Right Action encourages Buddhists to act with compassion and take responsibility for their actions.",
        application:
          "Pilgrimages - following stricter codes of conduct to establish moral discipline in a more visceral way.",
      },
      "right-livelihood": {
        title: "Right Livelihood",
        ethnic: "Samma Ajiva",
        description:
          "Earning a living in a way that is ethical, harmless, and aligned with the principles of the Buddha’s teachings, thus encouraging individuals to engage in work that avoids causing the suffering of others while supporting personal spiritual development.",
        application: "",
      },
      "right-effort": {
        title: "Right Effort",
        ethnic: "Samma Vayama",
        description:
          "Avoiding negative mindsets and having the ability to foster positive qualities that let them go and lead to spiritual progress if they arise. Consistently cultivating and sustaining wholesome mental states.",
        application:
          "<i>Puñña</i> (merit) - generating positive spiritual energy through devotional rituals that purify the mind by avoiding negative mindsets like distraction, greed, or anger.",
      },
      "right-mindfulness": {
        title: "Right Mindfulness",
        ethnic: "Samma Sati",
        description:
          "Developing an attentive awareness of one’s thoughts, feelings, actions, and the surrounding world is essential for the development of wisdom and the elimination of ignorance.",
        application: "",
      },
      "right-concentration": {
        title: "Right Concentration",
        ethnic: "Samma Samadhi",
        description:
          "Developing a focused mind is essential for attaining deep states of meditation and ultimately achieving enlightenment.",
        application:
          "The Four Jhānas - attaining deep states of meditative absorption characterized by deep joy, inner peace, purity of mind, and overcoming sensory distractions.",
      },
    };

    // Open modal with path information
    function openPathModal(pathId) {
      const path = pathData[pathId];
      if (path) {
        modalTitle.textContent = path.ethnic;
        modalEthnic.textContent = path.title;
        modalDescription.innerHTML = path.description
          .split("\n\n")
          .map((p) => `<p class="mb-4">${p}</p>`)
          .join("");

        const applicationSection = document.querySelector(
          "#path-modal .bg-primary-50"
        );
        if (path.application) {
          modalApplication.innerHTML = path.application;
          applicationSection.classList.remove("hidden");
        } else {
          applicationSection.classList.add("hidden");
        }

        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden"; // Prevent scrolling when modal is open
      }
    }

    // Close modal
    function closeModal() {
      modal.classList.add("hidden");
      document.body.style.overflow = ""; // Restore scrolling
    }

    // Add click events to path cards
    pathCards.forEach((card) => {
      card.addEventListener("click", () => {
        const pathId = card.getAttribute("data-path");
        openPathModal(pathId);
      });
    });

    // Close modal with buttons
    closeModalBtn.addEventListener("click", closeModal);
    modalCloseBtn.addEventListener("click", closeModal);

    // Close modal when clicking outside
    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !modal.classList.contains("hidden")) {
        closeModal();
      }
    });

    // Add hover effects to wheel sections
    // This would require SVG interactivity which would be implemented
    // with more detailed SVG path elements
  });
</script>
